<?xml version="1.0" encoding="ISO-8859-1"?>

<xmachine_agent_model>
<name>Financial Market Model</name>
<author>Mariam Kiran</author>
<date>010607</date>

<!--***************** Environment values and functions **********************-->
<environment>
<functions>
<file>functions.c</file>
</functions>
</environment>


<!--********************* X-machine Agent - Household ****************************-->
<xmachine>
<name>Household</name>
<!----------------- Variables-------------------------------------------------->
<!-- All variables used by household are declared here to allocate them in memory -->

<memory>
<var><type>double</type><name>r</name></var>
<var><type>double</type><name>iradius</name></var>
<var><type>double</type><name>posx</name></var>
<var><type>double</type><name>posy</name></var>

</memory>
<!----------------- Defining functions ---------------------------------------->
<functions>
<!---Role: Financial Management Role-->

<function><name>HouseholdCalculateGrossIncome</name></function>
<function><name>HouseholdCalculateMonthlyTaxes</name><depends><name>HouseholdCalculateGrossIncome</name><type>internal</type></depends></function>
<function><name>HouseholdCalculateNetIncome</name>
<depends>
<name>HouseholdCalculateMonthlyTaxes</name><type>internal</type>
</depends>
</function>
<function><name>HouseholdCalculateTotalBudget</name>
<depends>
<name>HouseholdCalculateNetIncome</name><type>internal</type>
</depends>
</function>
<function><name>HouseholdCalculateAssetWealth</name></function>


<function><name>HouseholdCalculateCashOnHands</name>
<depends>
<name>HouseholdCalculateTotalBudget</name><type>internal</type>
</depends>
<depends>
<name>HouseholdCalculateAssetWealth</name><type>internal</type>
</depends>
</function>

<function><name>HouseholdCalculateConsumptionBudget</name>
<depends>
<name>HouseholdCalculateCashOnHands</name><type>internal</type>
</depends>
</function>

<function><name>HouseholdCalculateFinancialNeedsMonthly</name>
<depends>
<name>HouseholdCalculateConsumptionBudget</name><type>internal</type>
</depends>
</function>


<!---Role: Consumption Market Role-->
<!---Role: Asset Market Role-->
<function><name>HouseholdUpdateAssetPortfolio</name></function>
<function><name>HouseholdCalculateFinancialNeedsDaily</name>
<depends>
<name>HouseholdUpdateAssetPortfolio</name><type>internal</type>
</depends>
</function>
<function><name>HouseholdEntryDecision</name>
<depends>
<name>HouseholdCalculateFinancialNeedsDaily</name><type>internal</type>
</depends>
<depends>
<name>HouseholdCalculateFinancialNeedsMonthly</name><type>internal</type>
</depends>
</function>
<function><name>HouseholdCalculateAssetBudget</name>
<depends>
<name>HouseholdEntryDecision</name><type>internal</type>
</depends>
</function>

<function><name>HouseholdCalculateFirmBondOrders</name>
<depends>
<name>HouseholdCalculateAssetBudget</name><type>internal</type>
</depends>
</function>
<function><name>HouseholdCalculateGovernmentBondOrders</name>
<depends>
<name>HouseholdCalculateAssetBudget</name><type>internal</type>
</depends>
</function>
<function><name>HouseholdCalculateFirmStockOrders</name>
<depends>
<name>HouseholdCalculateAssetBudget</name><type>internal</type>
</depends>
</function>


<!---Role: Credit Market Role-->

</functions>
</xmachine>
<!--*********************** End of Agent - Household *****************************-->

<!--********************* X-machine Agent - Firm ****************************-->
<xmachine>
<name>Firm</name>
<!----------------- Variables-------------------------------------------------->
<!-- All variables used by firm are declared here to allocate them in memory -->
<memory>
<var><type>double_array</type><name>revenues</name></var>
<var><type>double_array</type><name>sales_costs</name></var>
<var><type>double</type><name>total_revenue</name></var>
<var><type>double</type><name>net_revenue</name></var>

<var><type>double</type><name>operational_cost</name></var>
<var><type>double</type><name>total_wage_payments</name></var>
<var><type>double</type><name>total_input_payments</name></var>
<var><type>double</type><name>interest_payments</name></var>

<var><type>double</type><name>total_earnings</name></var>
<var><type>double</type><name>tax_rate_profits</name></var>
<var><type>double</type><name>pretax_profit</name></var>
<var><type>double</type><name>tax_provision</name></var>
<var><type>double</type><name>net_earnings</name></var>
<var><type>double</type><name>div_payments</name></var>

<var><type>double</type><name>retained_earnings</name></var>
<var><type>double</type><name>current_debt</name></var>
<var><type>double</type><name>debt_interest_rate</name></var>
<var><type>double</type><name>debt_repayments</name></var>

<var><type>double</type><name>share_repurchase_value</name></var>
<var><type>int</type><name>share_repurchase_units</name></var>
<var><type>int</type><name>target_total_shares</name></var>
<var><type>int</type><name>current_total_shares</name></var>

var><type>double</type><name>total_financial_needs</name></var>
<var><type>double</type><name>financial_needs</name></var>
<var><type>double</type><name>add_financial_needs</name></var>
<var><type>double</type><name>financial_reserves</name></var>

<var><type>double</type><name>target_loans</name></var>
<var><type>double</type><name>target_equity</name></var>
<var><type>double</type><name>bonds_issue_target</name></var>
<var><type>double</type><name>stocks_issue_target</name></var>

<var><type>double</type><name>price</name></var>
<var><type>double</type><name>max_debt</name></var>
<var><type>double</type><name>div_earn_ratio</name></var>
<var><type>double</type><name>debt_earn_ratio</name></var>
<var><type>double</type><name>div_pshare_ratio</name></var>
<var><type>double</type><name>earn_pshare_ratio</name></var>
<var><type>double</type><name>price_earn_ratio</name></var>
<var><type>double</type><name>retained_earn_ratio</name></var>

<var><type>double</type><name>earn_pshare_ratio_growth</name></var>
<var><type>double</type><name>critical_price_earn_ratio</name></var>
<var><type>double</type><name>critical_earn_pshare_ratio</name></var>

<var><type>double</type><name>iradius</name></var>
<var><type>double</type><name>posx</name></var>
<var><type>double</type><name>posy</name></var>

</memory>
<!----------------- Defining functions ---------------------------------------->
<functions>
<!---Role: Financial management role-->
<function><name>FirmCalculateIncomeStatement</name></function>

<function><name>FirmCalculateFinancialPolicies</name>
<depends>
<name>FirmCalculateIncomeStatement</name><type>internal</type>
</depends>
</function>

<!---Role: asset market role-->
<function><name>FirmCalculateFirmStockOrders</name>
<depends>
<name>FirmCalculateFinancialPolicies</name><type>internal</type>
</depends>
</function>
<function><name>FirmCalculateFirmBondOrders</name>
<depends>
<name>FirmCalculateFinancialPolicies</name><type>internal</type>
</depends>
</function>
<function><name>FirmUpdateOutstandingAssets</name>
<depends>
<name>FirmCalculateFirmStockOrders</name><type>internal</type>
</depends>
<depends>
<name>FirmCalculateFirmBondOrders</name><type>internal</type>
</depends>
</function>
<!---Role: Credit Market Role-->
<function><name>FirmApplyForBankLoan</name>
<depends>
<name>FirmCalculateFinancialPolicies</name><type>internal</type>
</depends>
</function>

</functions>
</xmachine>
<!--*********************** End of Agent - Firm *****************************-->


<!--********************* X-machine Agent - Bank ****************************-->
<xmachine>
<name>Bank</name>
<!----------------- Variables-------------------------------------------------->
<!-- All variables used by bank are declared here to allocate them in memory -->
<memory>
<var><type>double</type><name>ra</name></var>
<var><type>double</type><name>iradius</name></var>
<var><type>double</type><name>posx</name></var>
<var><type>double</type><name>posy</name></var>

</memory>
<!----------------- Defining functions ---------------------------------------->

<!--- credit market role-->
</xmachine>
<!--*********************** End of Agent - Bank *****************************-->

<!--********************* X-machine Agent - Clearing House ****************************-->
<xmachine>
<name>ClearingHouse</name>
<!----------------- Variables-------------------------------------------------->
<!-- All variables used by clearing house are declared here to allocate them in memory -->
<memory>
<var><type>double</type><name>rg</name></var>
<var><type>double</type><name>iradius</name></var>
<var><type>double</type><name>posx</name></var>
<var><type>double</type><name>posy</name></var>

</memory>
<!----------------- Defining functions ---------------------------------------->

<!--- asset market role-->
<functions>
<function><name>ClearingHouseComputeTransactions</name></function>
</functions>
</xmachine>
<!--*********************** End of Agent - Clearing house *****************************-->

<!--********************* X-machine Agent - Limit order book ****************************-->
<xmachine>
<name>LimitOrderBook</name>
<!----------------- Variables-------------------------------------------------->
<!-- All variables used by clearing house are declared here to allocate them in memory -->
<memory>
<var><type>double</type><name>re</name></var>
<var><type>double</type><name>iradius</name></var>
<var><type>double</type><name>posx</name></var>
<var><type>double</type><name>posy</name></var>

</memory>
<!----------------- Defining functions ---------------------------------------->
<!--- asset market role-->
<functions>
<function><name>LimitOrderBookComputeTransactions</name></function>
</functions>
</xmachine>
<!--*********************** End of Agent - limit order book *****************************-->

<!--********************* X-machine Agent - government ****************************-->
<xmachine>
<name>Government</name>
<!----------------- Variables-------------------------------------------------->
<!-- All variables used by government are declared here to allocate them in memory -->
<memory>
<var><type>double</type><name>rj</name></var>
<var><type>double</type><name>iradius</name></var>
<var><type>double</type><name>posx</name></var>
<var><type>double</type><name>posy</name></var>

</memory>
<!----------------- Defining functions ---------------------------------------->

<!--tax collector role-->

</xmachine>
<!--*********************** End of Agent - government ****************************-->






<!--******** Messages being posted by the agents to communicate *************-->
<messages>

<!--asset market context-->
<message>
<name>WagePayment</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

<message>
<name>DividendPayment</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

<message>
<name>BondCouponPayment</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

<message>
<name>FirmBondOrders</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

<message>
<name>FirmStockOrders</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

<message>
<name>GovernmentBondOrders</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

<message>
<name>FirmBondTransaction</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

<message>
<name>FirmStockTransaction</name>
<note></note>

<var><type>double</type><name>range</name></var>
<var><type>double</type><name>x</name></var>
<var><type>double</type><name>y</name></var>
<var><type>double</type><name>z</name></var>

</message>

</messages>
<!--********************** End of Messages **********************************-->

</xmachine_agent_model>
